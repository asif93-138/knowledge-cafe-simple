<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Knowledge-cafe-light</title>
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
      .imag {
            width: 100%;
      }
      .backdrop {background-color: #e6f0ff;} .back-drop {background-color: aliceblue;} .bg-custom {background-color: white;}
      @media screen and (max-width: 600px) {.wc {width: auto !important;}}
</style>

</head>

<body class="container">

<header>
<nav class="d-flex justify-content-between mt-4">
<h2><b>Knowledge Cafe</b></h2>
<img width="50" height="50" 
src="https://images.unsplash.com/photo-1509868918748-a554ad25f858?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" 
class="rounded-circle" >
</nav>
<hr>
</header>

<main class="d-md-flex">
      <article class="w-75 pe-3 wc" id="a">

      </article>
      <section class="w-25 wc">
           <div class="border border-primary text-primary border-2 rounded-3 p-4 backdrop">
                  <h6 class="text-center">Spent time on read : <span id="time">0</span> mins</h6>
           </div>
           <div class="border border-2 rounded-3 p-4 mt-3 back-drop">
                  <h6 class="text-center mb-3">Bookmarked : <span id="bm">0</span></h6>
                  
                  <div id="coming"></div>
           </div>
      </section>
</main>

<footer>
</footer>

<script>
fetch('generated.json')
      .then(response => response.json())
      .then(json => displayData(json))

function displayData(data) {
      var txt = "";
      data.forEach(data => {
      //   console.log(data.time);
            txt += `
            <div class="mb-4">
            <img class="imag mb-3" src=${data.image}>
            
            <img width="40" height="40" class="rounded-circle" src=${data.userimg} >
            <p class="d-inline mx-2"><strong>${data.name}</strong></p>
            <div class="d-flex justify-content-between mt-3"><p class="m-0">September 1 (8 days ago)</p><p class="m-0">${data.time} mins read <button onclick="bookMarked('${data.title}')" type="button" class="btn"><i class="bi bi-bookmark"></i></button></p></div>
            <h2>${data.title}</h2>
            <button type="button" class="btn" onclick="document.getElementById('time').innerHTML = Number(document.getElementById('time').innerHTML) + Number(${data.time})">Mark as read</button>
            <br>
            </div>
            `;
      })
      
      document.getElementById("a").innerHTML = txt;
}
var txt = "";
function bookMarked(data) {
      // console.log('bookmarked');
      
      document.getElementById('bm').innerHTML = Number(document.getElementById('bm').innerHTML) + 1;
      txt += `<p class="bg-custom p-2"><strong>${data}</strong></p>`;
      document.getElementById('coming').innerHTML = txt;
}
</script>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>